<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <!-- Reset CSS -->
    <link rel="stylesheet" href="./assets/css/reset.css" />

    <!-- Styles CSS -->

    <link rel="stylesheet" href="./assets/css/main.css" />

    <!-- Embed Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header>
      <div class="logo">
        <a href="./index.html"
          ><img src="./assets/img/header-logo.png" alt=""
        /></a>
      </div>
      <div class="header-content">
        <div class="category">
          <div class="category-item">
            <img src="./assets/img/home.svg" alt="" />
            <h2><a href="./index.html">TRANG CHỦ</a></h2>
          </div>

          <div class="category-item">
            <img src="./assets/img/news.svg" alt="" />
            <h2><a href="./category-news.html">TIN TỨC</a></h2>
          </div>

          <div class="category-item">
            <img src="./assets/img/tournament.svg" alt="" />
            <h2><a href="./category-tournament.html">GIẢI ĐẤU</a></h2>
          </div>

          <div class="bar"></div>

          <form class="search-box" onsubmit="searchGoogle(event)">
            <input type="text" id="search-input" placeholder="Tìm kiếm" />
            <button type="submit">
              <img src="./assets/img/search.svg" alt="Search" />
            </button>
          </form>

          <div class="bar"></div>

          <div class="category-item">
            <div id="header"></div>
          </div>
        </div>
        <div class="sub-logo">
          <img src="./assets/img/emirate.png" alt="" />
        </div>
      </div>
    </header>
    <!-- Popup -->
    <div id="login-popup"></div>
    <main>
      <!-- BBanner -->
      <div class="slideshow-container">
        <div class="slides">
          <div class="slide">
            <img src="./assets/img/slide1.png" alt="Ảnh 1" />
          </div>
          <div class="slide">
            <img src="./assets/img/slide2.png" alt="Ảnh 2" />
          </div>
          <div class="slide">
            <img src="./assets/img/slide3.png" alt="Ảnh 3" />
          </div>
          <div class="slide">
            <img src="./assets/img/slide4.png" alt="Ảnh 4" />
          </div>

          <!-- Nhân đôi ảnh để tạo hiệu ứng lặp vô hạn -->
          <div class="slide">
            <img src="./assets/img/slide1.png" alt="Ảnh 1" />
          </div>
          <div class="slide">
            <img src="./assets/img/slide2.png" alt="Ảnh 2" />
          </div>
        </div>
        <button class="prev" onclick="moveSlide(-1)">&#10094;</button>
        <button class="next" onclick="moveSlide(1)">&#10095;</button>
      </div>

      <div class="slider"></div>
      <!-- News -->
      <div class="news">
        <div class="main-content">
          <div class="news-content">
            <div class="blog-part"></div>
            <div class="news-list">
              <div class="news-item">
                <span class="news-category">Tin sốt dẻo</span>
                <h3 class="news-title">
                  <a href="">Tiền thưởng quần vợt Acapulco 2025</a>
                </h3>
              </div>

              <div class="news-item">
                <span class="news-category">Mất điện lớn khắp Chile</span>
                <h3 class="news-title">
                  <a href=""
                    >Trận đấu ở Santiago bị đình chỉ do lệnh giới nghiêm</a
                  >
                </h3>
              </div>

              <div class="news-item">
                <span class="news-category">Vượt những con số</span>
                <h3 class="news-title">
                  <a href=""
                    >Bí mật về trò chơi của Zverev ẩn giấu trong tầm mắt</a
                  >
                </h3>
              </div>

              <div class="news-item">
                <span class="news-category">Tin tức giải đấu</span>
                <h3 class="news-title">
                  <a href=""
                    >Tiền vượt qua Norrie ở Acapulco trong trận ra mắt chính</a
                  >
                </h3>
              </div>

              <div class="news-item">
                <span class="news-category">Sức khỏe đời sống</span>
                <h3 class="news-title">
                  <a href="">Denis Shapovalov kiểm tra trí nhớ của mình</a>
                </h3>
              </div>

              <div class="news-item">
                <span class="news-category">Thách thức thử thách</span>
                <h3 class="news-title">
                  <a href="">Nicolai Budkov Kjaer ghi tên mình vào lịch sử</a>
                </h3>
              </div>

              <div class="news-item">
                <span class="news-category">Câu hỏi thường gặp</span>
                <h3 class="news-title">
                  <a href="">Lịch thi đấu quần vợt Rio là gì?</a>
                </h3>
              </div>
            </div>
          </div>
          <div class="ads-content">
            <div class="ads-bg">
              <img src="./assets/img/ads-doc.png" alt="" class="ads" />
            </div>
          </div>
        </div>
      </div>

      <div class="ads-banner">
        <div class="line left"></div>
        <div class="ads-logo">
          <img src="./assets/img/ads-doc.png" alt="Tennis Logo" />
        </div>
        <div class="line right"></div>
      </div>

      <!-- Others -->
      <div class="others">
        <div class="main-content">
          <div class="daily-part">
            <h2 class="daily-part__title">TIN TỨC TRONG NGÀY</h2>
            <div class="daily-news"></div>
          </div>
          <div class="breaking-part">
            <h2 class="breaking-part__title">TIN ĐÁNG CHÚ Ý</h2>
            <div class="breaking-news"></div>
          </div>
        </div>
      </div>

      <!-- ads -->
      <div class="ads-hori">
        <a href=""
          ><img
            src="./assets/img/ads-horizontal.png"
            alt=""
            class="ads-hori__img"
        /></a>
      </div>
    </main>
    <footer class="footer">
      <div class="main-content">
        <div class="left-footer">
          <img src="./assets/img/logo-footer.png" alt="" class="logo" />
          <div class="media">
            <a href=""><img src="./assets/img/facebook.svg" alt="" /></a>
            <a href=""><img src="./assets/img/youtube.svg" alt="" /></a>
            <a href=""><img src="./assets/img/email.svg" alt="" /></a>
            <a href=""><img src="./assets/img/twitter.svg" alt="" /></a>
            <a href=""><img src="./assets/img/linkedin.svg" alt="" /></a>
          </div>
          <div class="hotline">
            <div class="hotline-number">
              <img src="./assets/img/phone.svg" alt="" />
              <div class="hotline-content">
                <p>Đường dây nóng :</p>
                <p>+84 38 290 51 69</p>
              </div>
            </div>
            <div class="hotline-email">
              <img src="./assets/img/email-hotline.png" alt="" />
              <div class="hotline-content">
                <p>Email :</p>
                <p>nguyenskt2004@gmail.com</p>
              </div>
            </div>
          </div>
        </div>
        <div class="right-footer">
          <div class="newsletter">
            <h3 class="newsletter-title">Đăng ký nhận bản tin TENNIS TOUR</h3>
            <p class="newsletter-comment">
              Nhận thông tin tiếp thị chính thức từ TENNIS TOUR! Chúng tôi sẽ
              gửi cho bạn các bản tin để thông báo cho bạn về tin tức, giải đấu,
              cuộc thi, bán vé, ưu đãi của đối tác và hơn thế nữa.
            </p>
            <div class="subscribe-container">
              <div class="subscribe-container__input">
                <label for="email">Địa chỉ email</label>
                <input
                  type="email"
                  id="email"
                  placeholder="Nhập email của bạn"
                />
              </div>
              <button>SUBCRIBE</button>
            </div>
          </div>
        </div>
      </div>
      <div class="copyright">
        <p>ALL RIGHTS RESERVED.© 2025</p>
      </div>
    </footer>

    <!-- JS -->

    <script src="./assets/js/headerLogined.js"></script>
    <script src="./assets/js/headerNotLogin.js"></script>
    <script src="./assets/js/header.js"></script>
    <script type="module">
      import { newsData } from "./data/newsData.js";
      function renderNewsSection() {
        const newsList = document.querySelector(".blog-part");
        if (!newsData || newsData.length === 0) {
          newsList.innerHTML = "<p>Không có bài viết nào.</p>";
          return;
        }
        const sortedNews = [...newsData].sort((a, b) => b.id - a.id);
        const mainBlog = sortedNews[0];
        const subBlogs = sortedNews.slice(1, 4);

        newsList.innerHTML = `
    <div class="blog">
      <a href="news-detail.html?id=${mainBlog.id}">
        <img src="${mainBlog.image}" alt="${mainBlog.title}" class="blog-img"/>
      </a>
      <h3 class="blog-title">
        <a href="news-detail.html?id=${mainBlog.id}">${mainBlog.title}</a>
      </h3>
      <p class="blog-comment">${mainBlog.description}</p>
    </div>
    <div class="subblog">
      ${subBlogs
        .map(
          (news) => `
          <div class="subblog-content">
            <a href="news-detail.html?id=${news.id}">
              <img src="${news.image}" alt="${news.title}" class="subblog-img"/>
            </a>
            <h3 class="subblog-title">
              <a href="news-detail.html?id=${news.id}">${news.title}</a>
            </h3>
          </div>`
        )
        .join("")}
    </div>
  `;
      }
      document.addEventListener("DOMContentLoaded", renderNewsSection);

      function renderDailyNews() {
        const dailyNewsContainer = document.querySelector(".daily-news");
        if (!dailyNewsContainer) return;

        const sortedNews = [...newsData].sort((a, b) => b.id - a.id);
        const latestNews = sortedNews[0];
        const nextNews = sortedNews.slice(1, 4);

        if (!latestNews || nextNews.length < 3) {
          dailyNewsContainer.innerHTML = `<p>Không có tin tức để hiển thị.</p>`;
          return;
        }
        dailyNewsContainer.innerHTML = `
          <div class="daily">
            <a href="news-detail.html?id=${latestNews.id}">
              <img src="${latestNews.image}" alt="${
          latestNews.title
        }" class="daily-img">
            </a>
            <h3 class="daily-title">
              <a href="news-detail.html?id=${latestNews.id}">${
          latestNews.title
        }</a>
            </h3>
            <p class="daily-comment">${latestNews.description}</p>
          </div>
          <div class="daily-list">
            ${nextNews
              .map(
                (news) => `
              <div class="daily-item">
                <h3 class="daily-item__title">
                  <a href="news-detail.html?id=${news.id}">${news.title}</a>
                </h3>
              </div>
            `
              )
              .join("")}
          </div>
        `;
      }
      renderDailyNews();

      function renderBreakingNews() {
        const breakingNewsContainer = document.querySelector(".breaking-news");

        if (!newsData || newsData.length === 0) {
          breakingNewsContainer.innerHTML = `<p>Không có tin tức nào.</p>`;
          return;
        }

        // Trộn mảng ngẫu nhiên (Fisher-Yates shuffle)
        const shuffledNews = [...newsData].sort(() => Math.random() - 0.5);

        // Lấy tin đầu tiên làm breaking news
        const latestNews = shuffledNews[0];

        // Lấy 3 tin tiếp theo
        const nextThreeNews = shuffledNews.slice(1, 4);

        breakingNewsContainer.innerHTML = `
          <div class="breaking">
            <a href="news-detail.html?id=${latestNews.id}">
              <img src="${
                latestNews.image
              }" alt="Breaking News" class="breaking-img">
            </a>
            <h3 class="breaking-title">
              <a href="news-detail.html?id=${latestNews.id}">${
          latestNews.title
        }</a>
            </h3>
            <p class="breaking-comment">${latestNews.description}</p>
          </div>
          <div class="breaking-list">
            ${nextThreeNews
              .map(
                (news) => `
              <div class="breaking-item">
                <h3 class="breaking-item__title">
                  <a href="news-detail.html?id=${news.id}">${news.title}</a>
                </h3>
              </div>
            `
              )
              .join("")}
          </div>
        `;
      }
      document.addEventListener("DOMContentLoaded", function () {
        renderBreakingNews();
      });
    </script>

    <!-- ======================= slider ====================== -->
    <script>
      let index = 0;
      const slides = document.querySelector(".slides");
      const totalSlides = document.querySelectorAll(".slide").length;
      const step = 650 + 15; // Kích thước 1 ảnh + khoảng cách

      function moveSlide(stepCount) {
        index += stepCount; // Mỗi lần di chuyển 1 ảnh
        slides.style.transition = "transform 0.5s ease-in-out";
        slides.style.transform = `translateX(-${step * index}px)`;

        // Xử lý lặp vô hạn
        setTimeout(() => {
          if (index >= totalSlides - 2) {
            // Khi tới cuối, reset vị trí
            slides.style.transition = "none";
            index = 0;
            slides.style.transform = `translateX(-${step * index}px)`;
          }
          if (index < 0) {
            // Khi bấm lùi quá, nhảy về gần cuối
            slides.style.transition = "none";
            index = totalSlides - 4;
            slides.style.transform = `translateX(-${step * index}px)`;
          }
        }, 500);
      }

      setInterval(() => moveSlide(1), 3000);
    </script>
  </body>
</html>
